      <h1>Bootstrapping for regression models </h1>

<div class="row">
  <div class="span8">
    <h2>Usage</h2>
    <pre><span class="functioncall"><a href='Boot.html'>Boot</a></span><span class="keyword">(</span><span class="symbol">object</span><span class="keyword">,</span> <span class="argument">f</span> <span class="argument">=</span> <span class="symbol">coef</span><span class="keyword">,</span> <span class="argument">labels</span> <span class="argument">=</span> <span class="functioncall"><a href='http://www.inside-r.org/r-doc/base/names'>names</a></span><span class="keyword">(</span><span class="functioncall"><a href='http://www.inside-r.org/r-doc/stats/coef'>coef</a></span><span class="keyword">(</span><span class="symbol">object</span><span class="keyword">)</span><span class="keyword">)</span><span class="keyword">,</span> <span class="argument">R</span> <span class="argument">=</span> <span class="number">999</span><span class="keyword">,</span> <span class="argument">method</span> <span class="argument">=</span> <span class="functioncall"><a href='http://www.inside-r.org/r-doc/base/c'>c</a></span><span class="keyword">(</span><span class="string">"case"</span><span class="keyword">,</span>
  <span class="string">"residual"</span><span class="keyword">)</span><span class="keyword">)</span>

<span class="functioncall"><a href='Boot.html'>Boot</a></span><span class="keyword">(</span><span class="symbol">object</span><span class="keyword">,</span> <span class="argument">f</span> <span class="argument">=</span> <span class="symbol">coef</span><span class="keyword">,</span> <span class="argument">labels</span> <span class="argument">=</span> <span class="functioncall"><a href='http://www.inside-r.org/r-doc/base/names'>names</a></span><span class="keyword">(</span><span class="functioncall"><a href='http://www.inside-r.org/r-doc/stats/coef'>coef</a></span><span class="keyword">(</span><span class="symbol">object</span><span class="keyword">)</span><span class="keyword">)</span><span class="keyword">,</span> <span class="argument">R</span> <span class="argument">=</span> <span class="number">999</span><span class="keyword">,</span> <span class="argument">method</span> <span class="argument">=</span> <span class="functioncall"><a href='http://www.inside-r.org/r-doc/base/c'>c</a></span><span class="keyword">(</span><span class="string">"case"</span><span class="keyword">,</span>
      <span class="string">"residual"</span><span class="keyword">)</span><span class="keyword">)</span>

<span class="functioncall"><a href='Boot.html'>Boot</a></span><span class="keyword">(</span><span class="symbol">object</span><span class="keyword">,</span> <span class="argument">f</span> <span class="argument">=</span> <span class="symbol">coef</span><span class="keyword">,</span> <span class="argument">labels</span> <span class="argument">=</span> <span class="functioncall"><a href='http://www.inside-r.org/r-doc/base/names'>names</a></span><span class="keyword">(</span><span class="functioncall"><a href='http://www.inside-r.org/r-doc/stats/coef'>coef</a></span><span class="keyword">(</span><span class="symbol">object</span><span class="keyword">)</span><span class="keyword">)</span><span class="keyword">,</span> <span class="argument">R</span> <span class="argument">=</span> <span class="number">999</span><span class="keyword">,</span> <span class="argument">method</span> <span class="argument">=</span> <span class="functioncall"><a href='http://www.inside-r.org/r-doc/base/c'>c</a></span><span class="keyword">(</span><span class="string">"case"</span><span class="keyword">,</span>
      <span class="string">"residual"</span><span class="keyword">)</span><span class="keyword">)</span></pre>
    
    <h2>Arguments</h2>
    <dl>
      <dt>object</dt>
      <dd> A regression object of class <code>lm</code> or <code>glm</code>.  The function may work with other regression objects that support the <code>update</code>
method and have a <code>subset</code> argument, but it will fail if the fitting method for the model is iterative and sensitive to starting values.  See details below.</dd>
      <dt>f</dt>
      <dd>A function whose one argument is the name of a regression object that will be applied to the updated regression object to
compute the statistics of interest.  The default is <code>coef</code>, to return to
regression coefficient estimates.  For example, 
<code>f = function(obj) coef(obj)[1]/coef(obj[2]</code> will bootstrap the ratio of the first and second coefficient estimates.</dd>
      <dt>labels</dt>
      <dd>Provides labels for the statistics computed by <code>f</code>.  If
this argument is of the wrong length, then generic labels will be generated.
</dd>
      <dt>R</dt>
      <dd>Number of bootstrap samples.</dd>
      <dt>method</dt>
      <dd>The bootstrap method, either &#147;case&#148; for resampling
cases or &#147;residuals&#148; for a residual bootstrap.  See the details
below. The residual bootstrap is available only for <code>lm</code> objects and will return an error for <code>glm</code> objects.</dd>
    </dl>
    
    <div class="Description">
      <h2>Description</h2>
      
      <p>This function provides a simple front-end to the <code>boot</code> function in the
package also called <code>boot</code>.  Whereas <code>boot</code> is very general and therefore
has many arguments, the <code>Boot</code> function has very few arguments, but should
meet the needs of many users.</p>
  
    </div>

    <div class="Details">
      <h2>Details</h2>
      
      <p>Whereas the <code>boot</code> function is
very general, <code>Boot</code> is very specific.  It takes the information from a
regression object and the choice of <code>method</code>, and creates a function that is
passed as the <code>statistic</code> argument to <code>boot</code>.  The argument <code>R</code>
is also passed to <code>boot</code>.  All other arguments to <code>boot</code> are
kept at their default values.</p>
  
      <p>The methods available for <code>lm</code> objects are &#147;case&#148; and
&#147;residual&#148;.  The case bootstrap resamples from the joint distribution
of the terms in the model and the response.  The residual bootstrap fixes the
fitted values from the original data, and creates bootstraps by adding a
bootstrap sample of the residuals to the fitted values to get a bootstrap
response.  It is an implementation of Algorithm 6.3, page 271, of
Davison and Hinkley (1997).  The residual bootstrap for
generalized linear models has several competing approaches, but none are
without problems.  If you want to do a residual bootstrap for a glm, you
will need to write your own call to <code>boot</code>.</p>
  
      <p>This function may fail if the model fit to any of the bootstrap samples is of lower rank than the model fit to the original data.  This will occur, for example, if the model includes factors and interactions with a very small number of observations per cell.  In this case bootstrap samples may have zero counts in some cells and lose rank.</p>
  
    </div>

    <div class="Value">
      <h2>Value</h2>
      
      <p>See <code><a href='http://www.inside-r.org/r-doc/boot/boot'>boot</a></code> for the returned value from this function.  The car
package includes additional generic functions, as listed below.</p>
  
    </div>

    <div class="References">
      <h2>References</h2>
      
      <p>Davison, A, and Hinkley, D.  (1997)  <em>Bootstrap Methods and their
Applications</em>.  Oxford:  Oxford University Press.</p>
  
      <p>Fox, J. and Weisberg, S. (2011) <em>Companion to Applied Regression</em>, Second Edition.
Thousand Oaks:  Sage.</p>
  
      <p>Fox, J. and Weisberg, S. (2012) <em>Bootstrapping</em>, 
<a href = 'http://socserv.mcmaster.ca/jfox/Books/Companion/appendix/Appendix-Bootstrapping.pdf'>http://socserv.mcmaster.ca/jfox/Books/Companion/appendix/Appendix-Bootstrapping.pdf</a>.</p>
  
      <p>S. Weisberg (2005) <em>Applied Linear Regression</em>, Third Edition.   
Wiley, Chapters 4 and 11.</p>
  
    </div>

    <div class="Bootstrapping for regression models ">
      <h2>Bootstrapping for regression models </h2>
      
    </div>
    
    <h2 id="examples">Examples</h2>
    <pre class="examples"><div class='input'><span class="symbol">m1</span> <span class="assignement">&lt;-</span> <span class="functioncall"><a href='http://www.inside-r.org/r-doc/stats/lm'>lm</a></span><span class="keyword">(</span><span class="symbol">Fertility</span> <span class="keyword">~</span> <span class="symbol">.</span><span class="keyword">,</span> <span class="symbol">swiss</span><span class="keyword">)</span>
<span class="symbol">betahat.boot</span> <span class="assignement">&lt;-</span> <span class="functioncall"><a href='Boot.html'>Boot</a></span><span class="keyword">(</span><span class="symbol">m1</span><span class="keyword">,</span> <span class="argument">R</span><span class="argument">=</span><span class="number">99</span><span class="keyword">)</span> <span class="comment"># 99 bootstrap samples--too small to be useful</span>
<span class="functioncall"><a href='http://www.inside-r.org/r-doc/base/summary'>summary</a></span><span class="keyword">(</span><span class="symbol">betahat.boot</span><span class="keyword">)</span>  <span class="comment"># default summary</span></div>
<div class='output'>                  R original bootBias bootSE bootMed
(Intercept)      99   66.915 -0.31884 9.4694  67.722
Agriculture      99   -0.172 -0.00706 0.0674  -0.174
Examination      99   -0.258  0.04025 0.2295  -0.225
Education        99   -0.871 -0.04302 0.1987  -0.912
Catholic         99    0.104  0.00466 0.0308   0.111
Infant.Mortality 99    1.077  0.01153 0.3874   1.097
</div>
<div class='input'><span class="functioncall"><a href='http://www.inside-r.org/r-doc/stats/confint'>confint</a></span><span class="keyword">(</span><span class="symbol">betahat.boot</span><span class="keyword">)</span></div>
<strong class='warning'>Warning message:
extreme order statistics used as endpoints</strong>
<div class='output'>Bootstrap quantiles, type =  bca 

                    2.5 %   97.5 %
(Intercept)      45.57872 83.74182
Agriculture      -0.30444 -0.05591
Examination      -0.82108  0.18830
Education        -1.30188 -0.48951
Catholic          0.01933  0.14641
Infant.Mortality  0.31509  1.80753
</div>
<div class='input'><span class="functioncall"><a href='http://www.inside-r.org/r-doc/graphics/hist'>hist</a></span><span class="keyword">(</span><span class="symbol">betahat.boot</span><span class="keyword">)</span></div>
<strong class='warning'>Warning message:
extreme order statistics used as endpoints</strong>
<p><img src='Boot-8.png' alt='' width='400' height='400' /></p>
<p><img src='Boot-9.png' alt='' width='400' height='400' /></p>
<p><img src='Boot-10.png' alt='' width='400' height='400' /></p>
<p><img src='Boot-11.png' alt='' width='400' height='400' /></p>
<p><img src='Boot-12.png' alt='' width='400' height='400' /></p>
<p><img src='Boot-13.png' alt='' width='400' height='400' /></p>
<div class='input'><span class="comment"># Bootstrap for the estimated residual standard deviation:</span>
<span class="symbol">sigmahat.boot</span> <span class="assignement">&lt;-</span> <span class="functioncall"><a href='Boot.html'>Boot</a></span><span class="keyword">(</span><span class="symbol">m1</span><span class="keyword">,</span> <span class="argument">R</span><span class="argument">=</span><span class="number">99</span><span class="keyword">,</span> <span class="argument">f</span><span class="argument">=</span><span class="symbol">sigmaHat</span><span class="keyword">,</span> <span class="argument">labels</span><span class="argument">=</span><span class="string">"sigmaHat"</span><span class="keyword">)</span>
<span class="functioncall"><a href='http://www.inside-r.org/r-doc/base/summary'>summary</a></span><span class="keyword">(</span><span class="symbol">sigmahat.boot</span><span class="keyword">)</span></div>
<div class='output'>          R original bootBias bootSE bootMed
sigmaHat 99     7.17   -0.615  0.755    6.67
</div>
<div class='input'><span class="functioncall"><a href='http://www.inside-r.org/r-doc/stats/confint'>confint</a></span><span class="keyword">(</span><span class="symbol">sigmahat.boot</span><span class="keyword">)</span></div>
<strong class='warning'>Warning message:
extreme order statistics used as endpoints</strong>
<div class='output'>Bootstrap quantiles, type =  bca 

         2.5 % 97.5 %
sigmaHat 6.454   8.37
</div></pre>
  </div>
  <div class="span4">
    <!-- <ul>
      <li>Boot</li><li>Boot.default</li><li>Boot.lm</li><li>Boot.glm</li>
    </ul>
    <ul>
      <li>regression</li>
    </ul> -->
      
    <h2>See also</h2>
    Functions that work with
<code>Boot</code> objects from the <code>boot</code> package are 
<code><a href='http://www.inside-r.org/r-doc/boot/boot.array'>boot.array</a></code>,
<code><a href='http://www.inside-r.org/r-doc/boot/boot.ci'>boot.ci</a></code>, 
<code><a href='http://www.inside-r.org/r-doc/boot/plot.boot'>plot.boot</a></code> and
<code><a href='http://www.inside-r.org/r-doc/boot/empinf'>empinf</a></code>.  Additional
functions in the <code>car</code> package are 
<code><a href='hist.boot.html'>summary.boot</a></code>,
<code><a href='hist.boot.html'>confint.boot</a></code>, and 
<code><a href='hist.boot.html'>hist.boot</a></code>.

    
    <h2>Author</h2>
     Sanford Weisberg, <a href='mailto:sandy@umn.edu'>sandy@umn.edu</a>.
    
  </div>
</div>