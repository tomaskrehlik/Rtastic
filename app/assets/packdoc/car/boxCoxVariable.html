      <h1>Constructed Variable for Box-Cox Transformation</h1>

<div class="row">
  <div class="span8">
    <h2>Usage</h2>
    <pre><span class="functioncall"><a href='boxCoxVariable.html'>boxCoxVariable</a></span><span class="keyword">(</span><span class="symbol">y</span><span class="keyword">)</span></pre>
    
    <h2>Arguments</h2>
    <dl>
      <dt>y</dt>
      <dd>response variable.</dd>
    </dl>
    
    <div class="Description">
      <h2>Description</h2>
      
      <p>Computes a constructed variable for the Box-Cox transformation of the
  response variable in a linear model.</p>
  
    </div>

    <div class="Details">
      <h2>Details</h2>
      
      <p>The constructed variable is defined as <code class = 'eq'>y[log(y/y') -1]</code>, where 
  <code class = 'eq'>y'</code> is the geometric mean of <code>y</code>.</p>
  
      <p>The constructed variable is meant to be
  added to the right-hand-side of the linear model. The t-test for the
  coefficient of the constructed variable is an approximate score test for whether a
  transformation is required.</p>
  
      <p>If <code class = 'eq'>b</code> is the coefficient of the constructed variable,
  then an estimate of the normalizing power transformation based on the score statistic
  is <code class = 'eq'>1 - b</code>. An added-variable plot for the constructed
  variable shows leverage and influence on the decision to transform <code>y</code>.</p>
  
    </div>

    <div class="Value">
      <h2>Value</h2>
      
      <p>a numeric vector of the same length as <code>y</code>.</p>
  
    </div>

    <div class="References">
      <h2>References</h2>
      
      <p>Atkinson, A. C. (1985)
  <em>Plots, Transformations, and Regression</em>. Oxford.</p>
  
      <p>Box, G. E. P. and Cox, D. R. (1964)
  An analysis of transformations.
  <em>JRSS B</em> <b>26</b> 211--246.</p>
  
      <p>Fox, J. (2008)
  <em>Applied Regression Analysis and Generalized Linear Models</em>,
  Second Edition. Sage.</p>
  
      <p>Fox, J. and Weisberg, S. (2011) 
  <em>An R Companion to Applied Regression</em>, Second Edition, Sage.</p>
  
    </div>

    <div class="Constructed Variable for Box-Cox Transformation">
      <h2>Constructed Variable for Box-Cox Transformation</h2>
      
    </div>
    
    <h2 id="examples">Examples</h2>
    <pre class="examples"><div class='input'><span class="symbol">mod</span> <span class="assignement">&lt;-</span> <span class="functioncall"><a href='http://www.inside-r.org/r-doc/stats/lm'>lm</a></span><span class="keyword">(</span><span class="symbol">interlocks</span> <span class="keyword">+</span> <span class="number">1</span> <span class="keyword">~</span> <span class="symbol">assets</span><span class="keyword">,</span> <span class="argument">data</span><span class="argument">=</span><span class="symbol">Ornstein</span><span class="keyword">)</span>
<span class="symbol">mod.aux</span> <span class="assignement">&lt;-</span> <span class="functioncall"><a href='http://www.inside-r.org/r-doc/stats/update'>update</a></span><span class="keyword">(</span><span class="symbol">mod</span><span class="keyword">,</span> <span class="symbol">.</span> <span class="keyword">~</span> <span class="symbol">.</span> <span class="keyword">+</span> <span class="functioncall"><a href='boxCoxVariable.html'>boxCoxVariable</a></span><span class="keyword">(</span><span class="symbol">interlocks</span> <span class="keyword">+</span> <span class="number">1</span><span class="keyword">)</span><span class="keyword">)</span>
<span class="functioncall"><a href='http://www.inside-r.org/r-doc/base/summary'>summary</a></span><span class="keyword">(</span><span class="symbol">mod.aux</span><span class="keyword">)</span></div>
<div class='output'>
Call:
lm(formula = interlocks + 1 ~ assets + boxCoxVariable(interlocks + 
    1), data = Ornstein)

Residuals:
    Min      1Q  Median      3Q     Max 
-23.189  -6.701   0.541   6.773  12.051 

Coefficients:
                                Estimate Std. Error t value Pr(>|t|)    
(Intercept)                     1.46e+01   5.43e-01    26.9   <2e-16 ***
assets                         -7.14e-05   5.12e-05    -1.4     0.16    
boxCoxVariable(interlocks + 1)  7.43e-01   4.14e-02    18.0   <2e-16 ***
---
Signif. codes:  0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1 

Residual standard error: 7.25 on 245 degrees of freedom
Multiple R-squared: 0.799,	Adjusted R-squared: 0.797 
F-statistic:  486 on 2 and 245 DF,  p-value: <2e-16 

</div>
<div class='input'># avPlots(mod.aux, "boxCoxVariable(interlocks + 1)")
</div></pre>
  </div>
  <div class="span4">
    <!-- <ul>
      <li>boxCoxVariable</li>
    </ul>
    <ul>
      <li>manip</li><li>regression</li>
    </ul> -->
      
    <h2>See also</h2>
    <code><a href='http://www.inside-r.org/r-doc/MASS/boxcox'>boxcox</a></code>, <code><a href='powerTransform.html'>powerTransform</a></code>, <code><a href='bcPower.html'>bcPower</a></code>
    
    <h2>Author</h2>
    John Fox <a href='mailto:jfox@mcmaster.ca'>jfox@mcmaster.ca</a>
    
  </div>
</div>