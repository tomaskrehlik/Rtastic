      <h1>Recode a Variable</h1>

<div class="row">
  <div class="span8">
    <h2>Usage</h2>
    <pre><span class="functioncall"><a href='recode.html'>recode</a></span><span class="keyword">(</span><span class="symbol">var</span><span class="keyword">,</span> <span class="symbol">recodes</span><span class="keyword">,</span> <span class="symbol">as.factor.result</span><span class="keyword">,</span> <span class="argument">as.numeric.result</span> <span class="argument">=</span> <span class="number">TRUE</span><span class="keyword">,</span> <span class="symbol">levels</span><span class="keyword">)</span></pre>
    
    <h2>Arguments</h2>
    <dl>
      <dt>var</dt>
      <dd>numeric vector, character vector, or factor.</dd>
      <dt>recodes</dt>
      <dd>character string of recode specifications:
    see below.</dd>
      <dt>as.factor.result</dt>
      <dd>return a factor; default is <code>TRUE</code> if 
    <code>var</code> is a factor, <code>FALSE</code> otherwise.</dd>
      <dt>as.numeric.result</dt>
      <dd>if <code>TRUE</code> (the default), and <code>as.factor.result</code> is <code>FALSE</code>, 
  	then the result will be coerced to numeric
  	if all values in the result are numerals---i.e., represent numbers.</dd>
      <dt>levels</dt>
      <dd>an optional argument specifying the order of the
    levels in the returned factor; the default is to use the sort order
    of the level names.</dd>
    </dl>
    
    <div class="Description">
      <h2>Description</h2>
      
      <p>Recodes a numeric vector, character vector, or factor 
 according to simple recode specifications.</p>
  
    </div>

    <div class="Details">
      <h2>Details</h2>
      
      <p>Recode specifications appear in a character string, separated by
  semicolons (see the examples below), of the form <code>input=output</code>.
  If an input value satisfies more than one specification, 
  then the first (from left to right) applies.
  If no specification is satisfied, then the input value is carried
  over to the result. <code>NA</code> is allowed on input and output.
  Several recode specifications are supported:
  <span class='describe'>
    single valueFor example, <code>0=NA</code>.
    vector of valuesFor example, <code>c(7,8,9)='high'</code>.
    range of valuesFor example, <code>7:9='C'</code>. The special values <code>lo</code>
      and <code>hi</code> may appear in a range. For example, <code>lo:10=1</code>. <em>Note:</em> <code>:</code> is
      <em>not</em> the R sequence operator.
    <code>else</code>everything that does not fit a previous specification.
      For example, <code>else=NA</code>. Note that <code>else</code> matches <em>all</em> otherwise
      unspecified values on input, including <code>NA</code>.
    </span>
  If all of the output values are numeric, and if <code>as.factor.result</code> is 
  <code>FALSE</code>, then a numeric result is returned; if <code>var</code> is a factor,
  then by default so is the result.</p>
  
    </div>

    <div class="Value">
      <h2>Value</h2>
      
      <p>a recoded vector of the same length as <code>var</code>.</p>
  
    </div>

    <div class="References">
      <h2>References</h2>
      
      <p>Fox, J. and Weisberg, S. (2011) 
  <em>An R Companion to Applied Regression</em>, Second Edition, Sage.</p>
  
    </div>
    
    <h2 id="examples">Examples</h2>
    <pre class="examples"><div class='input'><span class="symbol">x</span><span class="assignement">&lt;-</span><span class="functioncall"><a href='http://www.inside-r.org/r-doc/base/rep'>rep</a></span><span class="keyword">(</span><span class="number">1</span><span class="keyword">:</span><span class="number">3</span><span class="keyword">,</span><span class="number">3</span><span class="keyword">)</span>
<span class="symbol">x</span></div>
<div class='output'>[1] 1 2 3 1 2 3 1 2 3
</div>
<div class='input'><span class="comment">## [1] 1 2 3 1 2 3 1 2 3</span>
<span class="functioncall"><a href='recode.html'>recode</a></span><span class="keyword">(</span><span class="symbol">x</span><span class="keyword">,</span> <span class="string">"c(1,2)='A'; 
	else='B'"</span><span class="keyword">)</span></div>
<strong class='warning'>Warning message:
NAs introduced by coercion</strong>
<div class='output'>[1] "A" "A" "B" "A" "A" "B" "A" "A" "B"
</div>
<div class='input'><span class="comment">## [1] "A" "A" "B" "A" "A" "B" "A" "A" "B"</span>
<span class="functioncall"><a href='recode.html'>recode</a></span><span class="keyword">(</span><span class="symbol">x</span><span class="keyword">,</span> <span class="string">"1:2='A'; 3='B'"</span><span class="keyword">)</span></div>
<strong class='warning'>Warning message:
NAs introduced by coercion</strong>
<div class='output'>[1] "A" "A" "B" "A" "A" "B" "A" "A" "B"
</div>
<div class='input'>## [1] "A" "A" "B" "A" "A" "B" "A" "A" "B"
</div></pre>
  </div>
  <div class="span4">
    <!-- <ul>
      <li>recode</li>
    </ul>
    <ul>
      <li>manip</li>
    </ul> -->
      
    <h2>See also</h2>
    <code><a href='http://www.inside-r.org/r-doc/base/cut'>cut</a></code>, <code><a href='http://www.inside-r.org/r-doc/base/factor'>factor</a></code>
    
    <h2>Author</h2>
    John Fox <a href='mailto:jfox@mcmaster.ca'>jfox@mcmaster.ca</a>
    
  </div>
</div>