      <h1>Heteroscedasticity-Corrected Covariance Matrices</h1>

<div class="row">
  <div class="span8">
    <h2>Usage</h2>
    <pre><span class="functioncall"><a href='hccm.html'>hccm</a></span><span class="keyword">(</span><span class="symbol">model</span><span class="keyword">,</span> <span class="symbol">...</span><span class="keyword">)</span>

<span class="functioncall"><a href='hccm.html'>hccm</a></span><span class="keyword">(</span><span class="symbol">model</span><span class="keyword">,</span> <span class="argument">type</span> <span class="argument">=</span> <span class="functioncall"><a href='http://www.inside-r.org/r-doc/base/c'>c</a></span><span class="keyword">(</span><span class="string">"hc3"</span><span class="keyword">,</span> <span class="string">"hc0"</span><span class="keyword">,</span> <span class="string">"hc1"</span><span class="keyword">,</span> <span class="string">"hc2"</span><span class="keyword">,</span> <span class="string">"hc4"</span><span class="keyword">)</span><span class="keyword">,</span> <span class="argument">singular.ok</span> <span class="argument">=</span> <span class="number">TRUE</span><span class="keyword">,</span> <span class="symbol">...</span><span class="keyword">)</span>

<span class="functioncall"><a href='hccm.html'>hccm</a></span><span class="keyword">(</span><span class="symbol">model</span><span class="keyword">,</span> <span class="symbol">...</span><span class="keyword">)</span></pre>
    
    <h2>Arguments</h2>
    <dl>
      <dt>model</dt>
      <dd>a unweighted or weighted linear model, produced by <code>lm</code>.</dd>
      <dt>type</dt>
      <dd>one of <code>"hc0"</code>, <code>"hc1"</code>, <code>"hc2"</code>, <code>"hc3"</code>, or <code>"hc4"</code>; the
    first of these gives the classic White correction. The <code>"hc1"</code>, <code>"hc2"</code>, and <code>"hc3"</code>
    corrections are described in Long and Ervin (2000); <code>"hc4"</code> is described in Cribari-Neto (2004).</dd>
      <dt>singular.ok</dt>
      <dd>if <code>FALSE</code> (the default is <code>TRUE</code>), a model with aliased coefficients
    produces an error; otherwise, the aliased coefficients are ignored in the coefficient covariance
    matrix that's returned.</dd>
      <dt>...</dt>
      <dd>arguments to pass to <code>hccm.lm</code>.</dd>
    </dl>
    
    <div class="Heteroscedasticity-Corrected Covariance Matrices">
      <h2>Heteroscedasticity-Corrected Covariance Matrices</h2>
      
    </div>

    <div class="Heteroscedasticity-Corrected Covariance Matrices">
      <h2>Heteroscedasticity-Corrected Covariance Matrices</h2>
      
    </div>

    <div class="Heteroscedasticity-Corrected Covariance Matrices">
      <h2>Heteroscedasticity-Corrected Covariance Matrices</h2>
      
    </div>

    <div class="Heteroscedasticity-Corrected Covariance Matrices">
      <h2>Heteroscedasticity-Corrected Covariance Matrices</h2>
      
    </div>

    <div class="Heteroscedasticity-Corrected Covariance Matrices">
      <h2>Heteroscedasticity-Corrected Covariance Matrices</h2>
      
    </div>

    <div class="Heteroscedasticity-Corrected Covariance Matrices">
      <h2>Heteroscedasticity-Corrected Covariance Matrices</h2>
      
    </div>

    <div class="Description">
      <h2>Description</h2>
      
      <p>Calculates heteroscedasticity-corrected covariance matrices 
  linear models fit by least squares or weighted least squares. 
  These are also called &#147;White-corrected&#148; or &#147;White-Huber&#148;
  covariance matrices.</p>
  
    </div>

    <div class="Details">
      <h2>Details</h2>
      
      <p>The classical White-corrected coefficient covariance matrix (<code>"hc0"</code>) (for an unweighted model) is
  <pre class = 'eq'>V(b) = inv(X'X) X' diag(e^2) X inv(X'X)</code>
  where <code class = 'eq'>e^2</code> are the squared residuals, and <code class = 'eq'>X</code> is the model
  matrix. The other methods represent adjustments to this formula. If there are weights, these are incorporated in the
  corrected covariance amtrix.</p>
  
      <p>The function <code>hccm.default</code> simply catches non-<code>lm</code> objects.</p>
  
    </div>

    <div class="Value">
      <h2>Value</h2>
      
      <p>The heteroscedasticity-corrected covariance matrix for the model.</p>
  
    </div>

    <div class="References">
      <h2>References</h2>
      
      <p>Fox, J. (2008)
  <em>Applied Regression Analysis and Generalized Linear Models</em>,
  Second Edition. Sage.</p>
  
      <p>Fox, J. and Weisberg, S. (2011) 
  <em>An R Companion to Applied Regression</em>, Second Edition, Sage.</p>
  
      <p>Cribari-Neto, F. (2004)
  Asymptotic inference under heteroskedasticity of unknown form.
  <em>Computational Statistics and Data Analysis</em> <b>45</b>, 215--233.</p>
  
      <p>Long, J. S. and Ervin, L. H. (2000)
  Using heteroscedasity consistent standard errors in the linear regression model. 
  <em>The American Statistician</em> <b>54</b>, 217--224.  
  <a href = 'http://www.jstor.org/stable/2685594'>http://www.jstor.org/stable/2685594</a></p>
  
      <p>White, H. (1980)
  A heteroskedastic consistent covariance matrix estimator and a direct test of heteroskedasticity.
  <em>Econometrica</em> <b>48</b>, 817--838.</p>
  
    </div>
    
    <h2 id="examples">Examples</h2>
    <pre class="examples"><div class='input'><span class="functioncall"><a href='http://www.inside-r.org/r-doc/base/options'>options</a></span><span class="keyword">(</span><span class="argument">digits</span><span class="argument">=</span><span class="number">4</span><span class="keyword">)</span>
<span class="symbol">mod</span><span class="assignement">&lt;-</span><span class="functioncall"><a href='http://www.inside-r.org/r-doc/stats/lm'>lm</a></span><span class="keyword">(</span><span class="symbol">interlocks</span><span class="keyword">~</span><span class="symbol">assets</span><span class="keyword">+</span><span class="symbol">nation</span><span class="keyword">,</span> <span class="argument">data</span><span class="argument">=</span><span class="symbol">Ornstein</span><span class="keyword">)</span>
<span class="functioncall"><a href='http://www.inside-r.org/r-doc/stats/vcov'>vcov</a></span><span class="keyword">(</span><span class="symbol">mod</span><span class="keyword">)</span></div>
<div class='output'>            (Intercept)     assets  nationOTH   nationUK   nationUS
(Intercept)   1.079e+00 -1.588e-05 -1.037e+00 -1.057e+00 -1.032e+00
assets       -1.588e-05  1.642e-09  1.155e-05  1.362e-05  1.109e-05
nationOTH    -1.037e+00  1.155e-05  7.019e+00  1.021e+00  1.003e+00
nationUK     -1.057e+00  1.362e-05  1.021e+00  7.405e+00  1.017e+00
nationUS     -1.032e+00  1.109e-05  1.003e+00  1.017e+00  2.128e+00
</div>
<div class='input'><span class="comment">##             (Intercept)     assets  nationOTH   nationUK   nationUS</span>
<span class="comment">## (Intercept)   1.079e+00 -1.588e-05 -1.037e+00 -1.057e+00 -1.032e+00</span>
<span class="comment">## assets       -1.588e-05  1.642e-09  1.155e-05  1.362e-05  1.109e-05</span>
<span class="comment">## nationOTH    -1.037e+00  1.155e-05  7.019e+00  1.021e+00  1.003e+00</span>
<span class="comment">## nationUK     -1.057e+00  1.362e-05  1.021e+00  7.405e+00  1.017e+00</span>
<span class="comment">## nationUS     -1.032e+00  1.109e-05  1.003e+00  1.017e+00  2.128e+00</span>
<span class="functioncall"><a href='hccm.html'>hccm</a></span><span class="keyword">(</span><span class="symbol">mod</span><span class="keyword">)</span></div>
<div class='output'>            (Intercept)     assets  nationOTH   nationUK   nationUS
(Intercept)   1.664e+00 -3.957e-05 -1.569e+00 -1.611e+00 -1.572e+00
assets       -3.957e-05  6.752e-09  2.275e-05  3.051e-05  2.231e-05
nationOTH    -1.569e+00  2.275e-05  8.209e+00  1.539e+00  1.520e+00
nationUK     -1.611e+00  3.051e-05  1.539e+00  4.476e+00  1.543e+00
nationUS     -1.572e+00  2.231e-05  1.520e+00  1.543e+00  1.946e+00
</div>
<div class='input'>##             (Intercept)     assets  nationOTH   nationUK   nationUS
## (Intercept)   1.664e+00 -3.957e-05 -1.569e+00 -1.611e+00 -1.572e+00
## assets       -3.957e-05  6.752e-09  2.275e-05  3.051e-05  2.231e-05
## nationOTH    -1.569e+00  2.275e-05  8.209e+00  1.539e+00  1.520e+00
## nationUK     -1.611e+00  3.051e-05  1.539e+00  4.476e+00  1.543e+00
## nationUS     -1.572e+00  2.231e-05  1.520e+00  1.543e+00  1.946e+00
</div></pre>
  </div>
  <div class="span4">
    <!-- <ul>
      <li>hccm</li><li>hccm.lm</li><li>hccm.default</li>
    </ul>
    <ul>
      <li>regression</li>
    </ul> -->
      
    
    <h2>Author</h2>
    John Fox <a href='mailto:jfox@mcmaster.ca'>jfox@mcmaster.ca</a>
    
  </div>
</div>